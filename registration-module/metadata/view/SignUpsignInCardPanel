{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "registrationUrl": "http://localhost:8080/tusers",
        "base64JsLocation": "static/js/Base64.js",
        "activeItem": 1,
        "itemId": "signUpsignInCardPanel",
        "designer|userClassName": "SignUpsignInCardPanel",
        "designer|userAlias": "registrationCardPanel",
        "designer|initialView": true,
        "layout": "card"
    },
    "designerId": "b1eb75fc-1f7c-4b0c-8765-75107c58b008",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "registrationUrl",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "base64JsLocation",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.TitleBar",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": "top",
                "title": "App Name"
            },
            "designerId": "7c05c8ef-b3a1-4524-9780-d4ea4bd9de37"
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "listeners": [
                    "[",
                    "    {",
                    "        ",
                    "            delegate: '#loginButtonItemId',",
                    "    \t\tevent: 'tap',",
                    "    \t\tfn: 'onLogInButtonTap'",
                    "",
                    "    }",
                    "",
                    "",
                    "]   ",
                    "    "
                ],
                "loginUrl": "http://localhost:8080/tusers?find=ByUseridEqualsAndPasswordEquals",
                "itemId": "loginForm"
            },
            "configAlternates": {
                "listeners": "array"
            },
            "designerId": "65519564-949c-4c82-b96d-985f36ada2f6",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "listeners",
                    "type": "string"
                },
                {
                    "group": "(Custom Properties)",
                    "name": "loginUrl",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "Ext.TitleBar",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "docked": "top",
                        "title": "App Name"
                    },
                    "designerId": "2d7cde46-4ddc-4da0-9fe8-fb36c8e76c46"
                },
                {
                    "type": "Ext.Img",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 101
                    },
                    "designerId": "ea613a8d-eb86-415d-a42d-92ad399e2c19"
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "hideAnimation": "fadeOut",
                        "html": "Login failed, try again..",
                        "itemId": "signInFailedLabel",
                        "showAnimation": "fadeIn",
                        "style": "color:#990000;"
                    },
                    "designerId": "d2ea19b7-165e-4f63-af25-b68c8a47c163"
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": null
                    },
                    "designerId": "31e977b7-2bfe-4627-a4a4-3fa728c7746c",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "signInUserid",
                                "label": null,
                                "name": "userid",
                                "required": true,
                                "placeHolder": "Userid.."
                            },
                            "designerId": "e8228b25-7684-4a06-a2d6-7b711ebbf252"
                        },
                        {
                            "type": "Ext.field.Password",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "signInPassword",
                                "label": null,
                                "name": "userid",
                                "required": true,
                                "placeHolder": "Password.."
                            },
                            "designerId": "137072b7-0480-453a-92ed-1c885ca9dfd0"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": null
                    },
                    "designerId": "62505478-8401-4e8c-9c7d-09c12f22b0d7",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "loginButtonItemId",
                                "ui": "action",
                                "text": "Log In"
                            },
                            "designerId": "d40e1af4-0fc5-47b2-a1f1-5ae4e183938b"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": null
                    },
                    "designerId": "4dd92eac-8c3e-4aed-8d94-746d1c180936",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "ui": "confirm",
                                "text": "Snap Sign Up !"
                            },
                            "designerId": "6004deb3-58ab-45f6-a1af-a4be62d5b50f",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var loginForm = this.up('#loginFormItemId');",
                                            "loginForm.fireEvent('signUpRequested');"
                                        ]
                                    },
                                    "designerId": "783e52c3-1119-434c-8b0c-66ddc4010ee6"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "whatsYourNameForm"
            },
            "designerId": "11048450-c0bd-4b46-9764-42d9e809afd0",
            "cn": [
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "Whats Your Name, Buddy !"
                    },
                    "designerId": "07f7be06-32e7-400f-a86c-7d131732bec6",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "firstNameAsUserId",
                                "label": null,
                                "placeHolder": "Enter your first name.."
                            },
                            "designerId": "8363c5aa-e7b3-46a1-a94b-eeacc10938a7"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "Type any word you like .."
                    },
                    "designerId": "ef49c0eb-c090-419a-9c49-ac4ba0b0df8d",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "wordYouLike",
                                "label": null,
                                "labelWidth": "0%",
                                "placeHolder": "Temporary password.."
                            },
                            "designerId": "1c8e66b0-2182-459c-8732-4c6a2272d4bc"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "whatsYourNameFormSubmit",
                        "title": null
                    },
                    "designerId": "e320a67a-ea68-43b4-9508-14fc122d9304",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "whatsYourNameFormButton",
                                "ui": "action",
                                "text": "Sign Up !"
                            },
                            "designerId": "656ed86b-82da-42e9-beeb-70fd8837da54",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var signUpsignInCardPanel = this.up('signUpsignInCardPanel');",
                                            "",
                                            "var whatsYourNameForm = signUpsignInCardPanel.down('#whatsYourNameForm');",
                                            "",
                                            "var firstNameAsUserid = whatsYourNameForm.down('#firstNameAsUserId');",
                                            "var wordYouLike = whatsYourNameForm.down('#wordYouLike');",
                                            "",
                                            "firstNameAsUserid = firstNameAsUserid.getValue();",
                                            "wordYouLike = wordYouLike.getValue();",
                                            "",
                                            "",
                                            "var userObject = {};// Could have used Ext.define('MyApp.model.User') but",
                                            "// want to avoid inline defining Ext classes as it really deserve ",
                                            "// separate file. This is exportable component, so want to avoid ",
                                            "// separate file too !",
                                            "",
                                            "",
                                            "userObject.userid = firstNameAsUserid;",
                                            "userObject.password = wordYouLike;",
                                            "",
                                            "var nameRgx = /^[A-Za-z ]{3,20}$/;",
                                            "var passwordRgx =  /^[A-Za-z0-9!@#$%^&*()_]{6,100}$/;",
                                            "var errors = [];",
                                            "",
                                            "for(var field in userObject){",
                                            "    if(userObject[field] === ''){",
                                            "        var msg = 'Fields Are Mandatory !';",
                                            "        Ext.Msg.alert('',msg,Ext.emptyFn);",
                                            "        errors[errors.length] = msg;",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "if(! nameRgx.test(userObject.userid)){",
                                            "    var msg = 'Name is invalid ! At least 3 in length and no spaces. You could append last name';",
                                            "    Ext.Msg.alert('',msg,Ext.emptyFn); ",
                                            "    errors[errors.length] = msg;",
                                            "    return;",
                                            "}",
                                            "",
                                            "if(! passwordRgx.test(userObject.password)){",
                                            "    var msg = 'Password invalid, Min 6 in length, allowed a-z,0-9 and symbols !@#$%^&*()_';",
                                            "    Ext.Msg.alert('',msg,Ext.emptyFn); ",
                                            "    errors[errors.length] = msg;",
                                            "    return;",
                                            "}",
                                            "",
                                            "",
                                            "userObject.firstName = firstNameAsUserid;",
                                            "",
                                            "userObject.status = 'ACTIVE'; // If server has user status",
                                            "",
                                            "var userObjectJson = Ext.JSON.encode(userObject);",
                                            "",
                                            "",
                                            "var registrationUrl = signUpsignInCardPanel.getInitialConfig().registrationUrl;",
                                            "",
                                            "Ext.Ajax.request({",
                                            "    url: registrationUrl,",
                                            "    method: 'post',",
                                            "    jsonData : userObjectJson,",
                                            "    headers : { ",
                                            "        Accept : 'application/json' ",
                                            "    },",
                                            "    success: function (response) { ",
                                            "        var createdUserObject = Ext.JSON.decode(response.responseText);       ",
                                            "        createdUserObject.plainPassword = wordYouLike;",
                                            "",
                                            "        var tok = createdUserObject.userid + ':' + createdUserObject.plainPassword;",
                                            "        var hash = Base64.encode(tok);",
                                            "        var authHeaderValue = \"Basic \" + hash;",
                                            "        createdUserObject.authHeaderValue = authHeaderValue ;",
                                            "",
                                            "        if (createdUserObject.createdOn !== null) { // Here anything can be used which confirms server has behaved good",
                                            "",
                                            "            var quickSignUpDoneForm = signUpsignInCardPanel.down('#quickSignUpDoneForm');",
                                            "            var generatedUserId = quickSignUpDoneForm.down('#generatedUserId');",
                                            "            generatedUserId.setValue(createdUserObject.userid);",
                                            "            var wordAsPassword = quickSignUpDoneForm.down('#wordAsPassword');",
                                            "            wordAsPassword.setValue(createdUserObject.plainPassword);",
                                            "",
                                            "            quickSignUpDoneForm.createdUserObject = createdUserObject;",
                                            "            quickSignUpDoneForm = signUpsignInCardPanel.down('#quickSignUpDoneForm');",
                                            "            signUpsignInCardPanel.animateActiveItem(quickSignUpDoneForm, { type : 'slide'});",
                                            "        } else {",
                                            "            alert('Either return userObject had no same userid or two objects returned');",
                                            "        }",
                                            "    },",
                                            "    failure: function (response) {",
                                            "        //me.showSignInFailedMessage('Server error. Please try again later.');",
                                            "        var msg = 'Server error, try later';",
                                            "        Ext.Msg.alert('',msg,Ext.emptyFn);",
                                            "    }",
                                            "});",
                                            "",
                                            "",
                                            ""
                                        ]
                                    },
                                    "designerId": "b475fd16-672a-4c8d-a8cf-4c328f25f5a7"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "quickSignUpDoneForm"
            },
            "designerId": "9fa3d238-d358-4073-aed1-62f4572906ea",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "userCreated",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "<h1>Quick Sign Up Done !</h1> <br/> <p style=\"font-size:small\">You can now use following auto-generated credentials on any device. This screen is shown only once ! </p>",
                        "ui": "light",
                        "designer|displayName": "quickSignUpDoneLabel"
                    },
                    "designerId": "98bf40c7-dfd0-49c2-aa1e-668425a2e5ca"
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "generatedUserIdFieldSet",
                        "title": ""
                    },
                    "designerId": "e8d98759-be5a-449b-afe2-4caee4fce34c",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "disabled": false,
                                "itemId": "generatedUserId",
                                "label": "Userid",
                                "labelWidth": "40%",
                                "readOnly": true
                            },
                            "designerId": "6b39004e-3efc-4a6f-92c3-21c6c7be3a1e"
                        },
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "disabled": false,
                                "itemId": "wordAsPassword",
                                "label": "Password",
                                "labelWidth": "40%",
                                "readOnly": true
                            },
                            "designerId": "5f10cf78-1fed-4557-9402-b510d71d683f"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": null
                    },
                    "designerId": "e86ee0c0-b546-4d67-aaef-248f0e26485b",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "ui": "action",
                                "text": "Start Using App !"
                            },
                            "designerId": "4a9b3a27-6712-479e-aa2d-b98446dd2afb",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var signUpsignInCardPanel = this.up('signUpsignInCardPanel');",
                                            "var quickSignUpDoneForm = signUpsignInCardPanel.down('#quickSignUpDoneForm');",
                                            "var userObject = quickSignUpDoneForm.createdUserObject;",
                                            "signUpsignInCardPanel.fireEvent('signUpSuccess',userObject);"
                                        ]
                                    },
                                    "designerId": "920b1857-bf6b-42ad-a48f-fab0e0c5c77b"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "<p style=\"font-size:small\"> Click here, If you want to edit credentials and continue to full-fledge secure registration. </p>",
                        "designer|displayName": "continueSecureRegLabel"
                    },
                    "designerId": "274f83ca-995e-40ef-a398-6d0bed78624b"
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "secureSignUpButtonFieldSet",
                        "title": ""
                    },
                    "designerId": "8353836c-5dbc-4e3f-8ebf-c5ff56ea911d",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "ui": "confirm",
                                "text": "Secure Sign Up !"
                            },
                            "designerId": "ca10cafd-4bc8-468d-998d-28324a7fa2da",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var signUpsignInCardPanel = this.up('signUpsignInCardPanel');",
                                            "var registrationPage1 = signUpsignInCardPanel.down('#registrationPage1');",
                                            "var quickSignUpDoneForm = this.up('#quickSignUpDoneForm');",
                                            "",
                                            "var userObject = quickSignUpDoneForm.createdUserObject;",
                                            "",
                                            "var firstName = registrationPage1.down('#firstName');",
                                            "var lastName = registrationPage1.down('#lastName');",
                                            "var userEmail = registrationPage1.down('#userEmail');",
                                            "",
                                            "var userid = registrationPage1.down('#userid');",
                                            "var password = registrationPage1.down('#password');",
                                            "var readablePassword = registrationPage1.down('#readablePassword');",
                                            "",
                                            "",
                                            "registrationPage1.userObject = userObject; // Assigning userObject to ",
                                            "// registration page because will need things like current authValue",
                                            "// while updating the user",
                                            "",
                                            "firstName.setValue(userObject.firstName);",
                                            "lastName.setValue(userObject.lastName);",
                                            "userEmail.setValue(userObject.userEmail);",
                                            "",
                                            "userid.setValue(userObject.userid);",
                                            "password.setValue(userObject.plainPassword);",
                                            "readablePassword.setValue(userObject.plainPassword);",
                                            "",
                                            "signUpsignInCardPanel.animateActiveItem(registrationPage1, { type : 'slide' });",
                                            "",
                                            ""
                                        ]
                                    },
                                    "designerId": "65df3088-cc65-4100-af21-a758a8e64fa0"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "userInfoForm"
            },
            "designerId": "de4e8d8a-aab2-4445-aa2a-2225648874c7",
            "cn": [
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "Personal Details"
                    },
                    "designerId": "ad9f8329-e14a-4724-a2f6-1f8cb18b6ad9",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "firstName",
                                "label": "First Name",
                                "labelWidth": "37%",
                                "name": "firstName"
                            },
                            "designerId": "cfe8384b-0baf-45e2-9394-fc12fa4b0c78"
                        },
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "lastName",
                                "label": "Last Name",
                                "labelWidth": "37%",
                                "name": null
                            },
                            "designerId": "fd8089b0-8d4b-4683-8d9c-27daab284334"
                        },
                        {
                            "type": "Ext.field.Email",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "userEmail",
                                "label": "Email",
                                "labelWidth": "37%",
                                "name": null,
                                "placeHolder": "email@example.com"
                            },
                            "designerId": "efc42f00-9478-4b20-aebc-0b9ee357e9e9"
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "Credentials"
                    },
                    "designerId": "370751fa-8fd0-436f-bd1f-86e1c2b5c802",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "userid",
                                "label": "User Id",
                                "labelWidth": "37%",
                                "name": null
                            },
                            "designerId": "e04c15fe-7313-4661-9d89-f6d788d9a435"
                        },
                        {
                            "type": "Ext.field.Password",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "password",
                                "label": "Password",
                                "labelWidth": "37%",
                                "name": null
                            },
                            "designerId": "ca110cb3-1c21-41c6-a497-b0f5022a1fc0"
                        },
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "hidden": true,
                                "itemId": "readablePassword",
                                "label": "Password",
                                "labelWidth": "37%",
                                "name": null
                            },
                            "designerId": "7668c4d9-f3be-4e5c-b228-a653cfa20431"
                        },
                        {
                            "type": "Ext.field.Checkbox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "showPasswordCheckBox",
                                "label": "Show Password in Clear Text",
                                "labelWidth": "50%"
                            },
                            "designerId": "75ec1816-7c7c-4b24-bfdb-155cc0253f17",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onShowPasswordCheckBoxCheck",
                                        "implHandler": [
                                            "var userInfoForm = checkboxfield.up('#userInfoForm');",
                                            "",
                                            "var password = userInfoForm.down('#password');",
                                            "var readablePassword = userInfoForm.down('#readablePassword');",
                                            "readablePassword.setValue(password.getValue());",
                                            "password.hide();",
                                            "readablePassword.show();"
                                        ],
                                        "name": "check"
                                    },
                                    "designerId": "1e59a185-7a01-41d0-8318-c3959bb37ec7"
                                },
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onShowPasswordCheckBoxUncheck",
                                        "implHandler": [
                                            "var userInfoForm = checkboxfield.up('#userInfoForm');",
                                            "",
                                            "var password = userInfoForm.down('#password');",
                                            "var readablePassword = userInfoForm.down('#readablePassword');",
                                            "password.setValue(readablePassword.getValue());",
                                            "password.show();",
                                            "readablePassword.hide();"
                                        ],
                                        "name": "uncheck"
                                    },
                                    "designerId": "b9b5c2d9-bb7b-4017-9851-89774ff0b284"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.FieldSet",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "myfieldset2",
                        "designer|displayName": "NextButtonFieldSet",
                        "title": null
                    },
                    "designerId": "e3d045b3-4960-4a34-a053-283432f854ed",
                    "cn": [
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "updateProfile",
                                "ui": "action",
                                "text": "Save And Go To App"
                            },
                            "designerId": "20be6260-8d78-4fe7-91dc-3309f7a88c8a",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var signUpsignInCardPanel = this.up('signUpsignInCardPanel');",
                                            "var userInfoForm = signUpsignInCardPanel.down('#userInfoForm');",
                                            "",
                                            "var firstName = userInfoForm.down('#firstName');",
                                            "var lastName = userInfoForm.down('#lastName');",
                                            "var userEmail = userInfoForm.down('#userEmail');",
                                            "//var confirmEmail = signUpsignInCardPanel.down('#confirmEmail');",
                                            "",
                                            "var userid = userInfoForm.down('#userid');",
                                            "var password = userInfoForm.down('#password');",
                                            "var readablePassword = userInfoForm.down('#readablePassword');",
                                            "var showPasswordCheckBox = userInfoForm.down('#showPasswordCheckBox');",
                                            "",
                                            "var userObject = userInfoForm.userObject;",
                                            "var currentAuthHeaderValue = userObject.authHeaderValue;",
                                            "",
                                            "userObject.firstName = firstName.getValue();",
                                            "userObject.lastName = lastName.getValue();",
                                            "userObject.userEmail = userEmail.getValue();",
                                            "//userObject.confirmEmail = confirmEmail.getValue();",
                                            "",
                                            "userObject.userid = userid.getValue();",
                                            "",
                                            "if(showPasswordCheckBox.getSubmitValue() === null) {",
                                            "    userObject.password = password.getValue();",
                                            "}else {",
                                            "    userObject.password = readablePassword.getValue();",
                                            "}",
                                            "",
                                            "",
                                            "//////////////////////Validations////////////////////////////////",
                                            "var nameRgx = /^[A-Za-z ]{3,20}$/;",
                                            "var emailRgx = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;",
                                            "var useridRgx = /^[A-Za-z0-9_]{6,16}$/;",
                                            "var passwordRgx =  /^[A-Za-z0-9!@#$%^&*()_]{6,100}$/;",
                                            "var errors = [];",
                                            "",
                                            "for(var field in userObject){",
                                            "    console.log(field + ': ' + userObject[field]);",
                                            "    if(userObject[field] === ''){",
                                            "        Ext.Msg.alert('','All fields are mandatory !',Ext.emptyFn);",
                                            "        errors[errors.length] = 'All fields are mandatory !';",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "if(! nameRgx.test(userObject.firstName)){",
                                            "    Ext.Msg.alert('','First Name format invalid',Ext.emptyFn); ",
                                            "    errors[errors.length] = 'First Name format invalid !';",
                                            "    return;",
                                            "}",
                                            "",
                                            "",
                                            "if(! nameRgx.test(userObject.lastName)){",
                                            "    Ext.Msg.alert('','Last Name format invalid',Ext.emptyFn);",
                                            "    errors[errors.length] = 'Last Name format invalid !';",
                                            "    return;",
                                            "}",
                                            "",
                                            "",
                                            "if(! emailRgx.test(userObject.userEmail)){",
                                            "    Ext.Msg.alert('','Email format invalid',Ext.emptyFn); ",
                                            "    errors[errors.length] = 'Email format invalid';",
                                            "    return;",
                                            "}",
                                            "/*",
                                            "if(userObject.userEmail !== userObject.confirmEmail) {",
                                            "Ext.Msg.alert('','Emails do not match !',Ext.emptyFn);",
                                            "errors[errors.length] =  'Emails do not match !';",
                                            "return;",
                                            "}",
                                            "*/",
                                            "",
                                            "if(! useridRgx.test(userObject.userid)){",
                                            "    Ext.Msg.alert('','Userid Invalid, must be 6 in length, no special symbols',Ext.emptyFn); ",
                                            "    errors[errors.length] =  'Userid Invalid, must be 6 in length, no special symbols';",
                                            "    return;",
                                            "}",
                                            "",
                                            "if(! passwordRgx.test(userObject.password)){",
                                            "    Ext.Msg.alert('','Password invalid, Min 6 in length, allowed a-z,0-9 and symbols !@#$%^&*()_',Ext.emptyFn); ",
                                            "    errors[errors.length] = 'Password invalid, Min 6 in length, allowed a-z,0-9 and symbols !@#$%^&*()_';",
                                            "    return;",
                                            "}",
                                            "",
                                            "/*",
                                            "// Remember in order to report all errors at once, you have to remove all return statements.",
                                            "var msg = \"Please Enter Valide Data...\\n\";",
                                            "for (var i = 0; i<errors.length; i++) {",
                                            "    var numError = i + 1;",
                                            "    msg += \"\\n\" + numError + \". \" + errors[i];",
                                            "}",
                                            "alert(msg);",
                                            "*/",
                                            "/////////////////////////////////////////////////////////////////",
                                            "var userObjectJson = Ext.JSON.encode(userObject);",
                                            "",
                                            "",
                                            "var registrationUrl = signUpsignInCardPanel.getInitialConfig().registrationUrl;",
                                            "",
                                            "Ext.Ajax.request({",
                                            "    url: registrationUrl,",
                                            "    method: 'put',",
                                            "    jsonData : userObjectJson,",
                                            "    headers : { ",
                                            "        Accept : 'application/json' ,",
                                            "        Authorization : currentAuthHeaderValue // User needs to use current",
                                            "        // authHeader value based on current password",
                                            "    },",
                                            "    success: function (response) { ",
                                            "",
                                            "        var updatedUserObject = Ext.JSON.decode(response.responseText);",
                                            "",
                                            "        if (updatedUserObject.updatedON > userObject.updatedON) {",
                                            "            updatedUserObject.plainPassword = userObject.password;",
                                            "            var tok = updatedUserObject.userid + ':' + updatedUserObject.plainPassword ;",
                                            "            var hash = Base64.encode(tok);",
                                            "            var authHeaderValue = \"Basic \" + hash;",
                                            "",
                                            "            updatedUserObject.authHeaderValue = authHeaderValue ; ",
                                            "",
                                            "            signUpsignInCardPanel.fireEvent('signUpSuccess',updatedUserObject);",
                                            "        } else {",
                                            "            var msg = 'Server error, please try later';",
                                            "            Ext.Msg.alert('',msg,Ext.emptyFn);  ",
                                            "        }",
                                            "    },",
                                            "    failure: function (response) {",
                                            "        if(response.status === 409) {",
                                            "            var msg = 'User id taken';",
                                            "            Ext.Msg.alert('',msg,Ext.emptyFn); ",
                                            "        }else{",
                                            "            var msg = 'Server error, please try later';",
                                            "            Ext.Msg.alert('',msg,Ext.emptyFn);    ",
                                            "        }",
                                            "    }",
                                            "});",
                                            ""
                                        ]
                                    },
                                    "designerId": "07d53a73-cbcf-4352-81e8-d99f78a16f5a"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "html": "This card is first panel of your app after user sign in done. Here is where your real app logic starts.",
                "itemId": "dummyUserAppPanel"
            },
            "designerId": "c47f6b68-1a66-4cd5-a1a7-71475d0ee919"
        }
    ]
}